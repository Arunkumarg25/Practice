<?xml version='1.0' encoding='UTF-8'?>
<testcase testfamily="end2end_gui" testgroup="subagent" testcase="12_create_contact_it" parallel="false" workflowpause="0" location="1-qa.t5a.l1.cisco.com" customerid="e2e.1-qa.t5a.l1.cisco.com">
  <!-- 1. Login to t5a as auto_var1_subagent1 (subagent)
	 2. Go to delivery contacts page
	 3. Click on add delivery contact
	 4. verify missing and invalid messages
	 5. add a delivery contact for the subagent customer
	 6. verify that the delivery contact is added
	 7. add a delivery contact where the customer is None
	 8. verify that the delivery contact is added-->
  <workflow driver="selenium" wfid="subagent_create_contact" stoptype="abort" profile="italian" browser="firefox" rid="rantao">
    <!--login as sub agent and verify on the overview page-->
    <action acid="0" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://1-qa.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="auto_var3_subagent1_it"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <!--go to the Delivery Contacts page-->
    <action acid="1" stoptype="abort">
      <actionname>hover</actionname>
      <actionparam paramtype="type" paramvalue="italianmenu"/>
      <actionparam paramtype="value" paramvalue="Notifiche"/>
    </action>
    <action acid="2" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="submenu"/>
      <actionparam paramtype="value" paramvalue="Contatti di consegna"/>
    </action>
    <!--verify that the h2 for the page is Delivery Contacts-->
    <action acid="3" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div/h2/span[2]"/>
      <actionparam paramtype="value" paramvalue="Contatti di consegna"/>
    </action>
    <!--click on the + Add Delivery Contact-->
    <action acid="4" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='add_contact']"/>
    </action>
    <!--wait for the First Name text field to show up-->
    <action acid="5" stoptype="continue" loop="1" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="element"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='add_contact']"/>
    </action>
    <!--verify that the Preferred Language select is there-->
    <action acid="6" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="element"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='customerlanguage_select']"/>
    </action>
    <!--clicks the save button-->
    <action acid="7" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/span/button"/>
    </action>
    <!--verify the error message says missing-->
    <action acid="8" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[2]/div/div/div/div[5]/span[2]"/>
      <actionparam paramtype="value" paramvalue=" 					Mancante				"/>
    </action>
    <!--enters Subagent1 as the first name-->
    <action acid="9" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='firstname']"/>
      <actionparam paramtype="value" paramvalue="Subagent1"/>
    </action>
    <!--enters Sub-lastname as the Last Name-->
    <action acid="10" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='lastname']"/>
      <actionparam paramtype="value" paramvalue="Sub-lastname"/>
    </action>
    <!--enters auto_var1_customer1 as the Eamil Address-->
    <action acid="11" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='workemail']"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_customer1_it"/>
    </action>
    <!--clicks the save button-->
    <action acid="12" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/span/button"/>
    </action>
    <!--verify the error message says Invalid-->
    <action acid="13" stoptype="continue" loop="2" iterations="3" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[2]/div/div/div/div[5]/span[3]"/>
      <actionparam paramtype="value" paramvalue=" 					Non valido				"/>
    </action>
    <!--inputs a valid email address this time-->
    <action acid="14" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='workemail']"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_customer1_it@automail.aws.rcdnlab1.com"/>
    </action>
    <!--select  as the customer-->
    <action acid="15" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='customername_select']"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_customer1_it"/>
    </action>
    <!--clicks the save button-->
    <action acid="16" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/span/button"/>
    </action>
    <!--verify that the h2 for the page is Delivery Contacts-->
    <action acid="17" stoptype="continue" loop="3" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div/h2/span[2]"/>
      <actionparam paramtype="value" paramvalue="Contatti di consegna"/>
    </action>
    <!--verify that the customer contact is actually added-->
    <action acid="18" stoptype="continue" loop="4" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div[2]/table/tbody/tr"/>
      <actionparam paramtype="value" paramvalue="Subagent1 Sub-lastname auto_var3_subagent1_custom... auto_var3_subagent1_custom..."/>
    </action>
    <!--add global contact
	click on the + Add Delivery Contact-->
    <action acid="19" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='add_contact']"/>
    </action>
    <!--wait for the First Name text field to show up-->
    <action acid="20" stoptype="continue" loop="5" iterations="5" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="element"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='add_contact']"/>
    </action>
    <!--enter information for global contact-->
    <action acid="21" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='firstname']"/>
      <actionparam paramtype="value" paramvalue="Subagent"/>
    </action>
    <action acid="22" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='lastname']"/>
      <actionparam paramtype="value" paramvalue="GlobalContactLastName"/>
    </action>
    <action acid="23" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='workemail']"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_it@automail.aws.rcdnlab1.com"/>
    </action>
    <action acid="24" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='customername_select']"/>
      <actionparam paramtype="value" paramvalue="Nessuno"/>
    </action>
    <action acid="25" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/span/button"/>
    </action>
    <!--verify that the h2 for the page is Delivery Contacts-->
    <action acid="26" stoptype="continue" loop="6" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div/h2/span[2]"/>
      <actionparam paramtype="value" paramvalue="Contatti di consegna"/>
    </action>
    <!--verify that the global contact is added-->
    <action acid="27" stoptype="continue" loop="7" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div[2]/table/tbody/tr"/>
      <actionparam paramtype="value" paramvalue="Subagent GlobalContactLastName auto_var3_subagent1_it@aut..."/>
    </action>
    <action acid="28" stoptype="abort">
      <actionname>submitTCResult</actionname>
      <actionparam paramtype="Boolean" paramvalue="Boolean"/>
    </action>
  </workflow>
</testcase>

