<?xml version='1.0' encoding='UTF-8'?>
<testcase testfamily="end2end_gui" testgroup="subagent" testcase="02_register_subagent_it" parallel="false" workflowpause="0" location="1-qa.t5a.l1.cisco.com" customerid="e2e.1-qa.t5a.l1.cisco.com">
  <!-- 1. login to t5a as auto_var1 (agent)
	 2. go to agent overview page
	 3. save the subagent reguster url then navigate to it
	 4. register subagent auto_var1_subagent1
	 5. log in with agent auto_var1
	 6. go to pending agents page
	 7. approve pending sub agent auto_var1_subagent1
	 8. log out
	 9. log in as subagent auto_var1
	10. verify it goes to overview page
	11. verify all the sub agent information
	12. log out-->
  <workflow driver="selenium" wfid="register_subagent" stoptype="abort" profile="italian" browser="firefox" rid="rantao">
    <!--log in as agent using canned login testcase, this test case verifies that user end up on overview page-->
    <action acid="0" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://1-qa.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="auto_var3_it"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <action acid="1" stoptype="abort">
      <actionname>hover</actionname>
      <actionparam paramtype="type" paramvalue="italianmenu"/>
      <actionparam paramtype="value" paramvalue="Agenti"/>
    </action>
    <action acid="2" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="submenu"/>
      <actionparam paramtype="value" paramvalue="Panoramica agente"/>
    </action>
    <!--get the invite url from Agent Overview page-->
    <action acid="3" stoptype="abort">
      <actionname>save</actionname>
      <actionparam paramtype="savevar" paramvalue="sub_register_url"/>
      <actionparam paramtype="xpath" paramvalue="//span[@id='theURL']"/>
    </action>
    <action acid="4" stoptype="abort" timeout="30">
      <actionname>navigate</actionname>
      <actionparam paramtype="loadvar" paramvalue="sub_register_url"/>
    </action>
    <action acid="5" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='user_id']"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_it"/>
    </action>
    <action acid="6" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='password']"/>
      <actionparam paramtype="value" paramvalue="Test1234"/>
    </action>
    <action acid="7" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='firstname']"/>
      <actionparam paramtype="value" paramvalue="Sub"/>
    </action>
    <action acid="8" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='lastname']"/>
      <actionparam paramtype="value" paramvalue="Agent"/>
    </action>
    <action acid="9" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='company']"/>
      <actionparam paramtype="value" paramvalue="Sub Agent Co."/>
    </action>
    <action acid="10" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/form/div[7]/div[3]/select"/>
      <actionparam paramtype="value" paramvalue=" Amministratore "/>
    </action>
    <action acid="11" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/form/div[7]/div[3]/select[2]"/>
      <actionparam paramtype="value" paramvalue=" Vicepresidente "/>
    </action>
    <action acid="12" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='streetaddress1']"/>
      <actionparam paramtype="value" paramvalue="123 address st."/>
    </action>
    <action acid="13" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='city']"/>
      <actionparam paramtype="value" paramvalue="Plano"/>
    </action>
    <action acid="14" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='postalcode']"/>
      <actionparam paramtype="value" paramvalue="12345"/>
    </action>
    <action acid="15" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='phone_number']"/>
      <actionparam paramtype="value" paramvalue="1231231234"/>
    </action>
    <action acid="16" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='email']"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_it@automail.aws.rcdnlab1.com"/>
    </action>
    <action acid="17" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="checkbox"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='privacy']"/>
      <actionparam paramtype="value" paramvalue="check"/>
    </action>
    <action acid="18" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/form/div[14]/span/button"/>
    </action>
    <action acid="19" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="register_complete.html"/>
    </action>
    <action acid="20" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="value" paramvalue="Registrazione completata"/>
    </action>
    <action acid="21" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://1-qa.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="auto_var3_it"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <action acid="22" stoptype="abort">
      <actionname>hover</actionname>
      <actionparam paramtype="type" paramvalue="italianmenu"/>
      <actionparam paramtype="value" paramvalue="Agenti"/>
    </action>
    <action acid="23" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="submenu"/>
      <actionparam paramtype="value" paramvalue="Agenti in sospeso"/>
    </action>
    <action acid="24" stoptype="abort">
      <actionname>wait</actionname>
      <actionparam paramtype="type" paramvalue="seconds"/>
      <actionparam paramtype="value" paramvalue="1"/>
    </action>
    <action acid="25" stoptype="continue" loop="2" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div[2]/table/tbody/tr"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_it"/>
    </action>
    <action acid="26" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div[2]/table/tbody/tr"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_it"/>
    </action>
    <!--click the approve button-->
    <action acid="27" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div[3]/div/span/a"/>
    </action>
    <!--clicks log out to log out agent-->
    <action acid="28" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="link"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div/ul/li[5]/a"/>
    </action>
    <!--sleep 20 seconds after the sub agent is approved-->
    <action acid="29" stoptype="abort">
      <actionname>wait</actionname>
      <actionparam paramtype="type" paramvalue="seconds"/>
      <actionparam paramtype="value" paramvalue="20"/>
    </action>
    <!--login as the subagent-->
    <action acid="30" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://1-qa.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="auto_var3_subagent1_it"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <!--clicks the Account link to verify registered sub agent information-->
    <action acid="31" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="link"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div/ul/li[2]/a"/>
    </action>
    <action acid="32" stoptype="continue" loop="4" iterations="30" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/h2"/>
      <actionparam paramtype="value" paramvalue="Sub Agent Co. / Il mio account"/>
    </action>
    <!--verify sub agent information-->
    <action acid="33" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='firstname']"/>
      <actionparam paramtype="value" paramvalue="Sub"/>
    </action>
    <action acid="34" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='lastname']"/>
      <actionparam paramtype="value" paramvalue="Agent"/>
    </action>
    <action acid="35" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='company']"/>
      <actionparam paramtype="value" paramvalue="Sub Agent Co."/>
    </action>
    <action acid="36" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='streetaddress1']"/>
      <actionparam paramtype="value" paramvalue="123 address st."/>
    </action>
    <action acid="37" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='city']"/>
      <actionparam paramtype="value" paramvalue="Plano"/>
    </action>
    <action acid="38" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='postalcode']"/>
      <actionparam paramtype="value" paramvalue="12345"/>
    </action>
    <action acid="39" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='phone_number']"/>
      <actionparam paramtype="value" paramvalue="1231231234"/>
    </action>
    <action acid="40" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='email']"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_it@automail.aws.rcdnlab1.com"/>
    </action>
    <action acid="41" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/form/div[3]/div[3]/select"/>
      <actionparam paramtype="value" paramvalue=" Amministratore "/>
    </action>
    <action acid="42" stoptype="continue">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/form/div[3]/div[3]/select[2]"/>
      <actionparam paramtype="value" paramvalue=" Vicepresidente "/>
    </action>
    <!--clicks the log out link-->
    <action acid="43" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="link"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div/ul/li[5]/a"/>
    </action>
    <action acid="44" stoptype="abort">
      <actionname>submitTCResult</actionname>
      <actionparam paramtype="Boolean" paramvalue="Boolean"/>
    </action>
  </workflow>
</testcase>

