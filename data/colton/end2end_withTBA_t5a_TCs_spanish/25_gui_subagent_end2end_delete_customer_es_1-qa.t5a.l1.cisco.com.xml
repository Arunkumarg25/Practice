<?xml version='1.0' encoding='UTF-8'?>
<testcase testfamily="end2end_gui" testgroup="subagent" testcase="25_delete_customer_es" parallel="false" workflowpause="0" location="1-qa.t5a.l1.cisco.com" customerid="e2e.1-qa.t5a.l1.cisco.com">
  <!-- 1. Login to t5a as auto_var1_subagent1 (subagent)
	 2. Click on customer auto_var1_subagent1_customer1
	 3. go to page Profile
	 4. delete the customer
	 5. verfiy the customer is deleted-->
  <workflow driver="selenium" wfid="subagent_delete_customer" stoptype="abort" profile="spanish" browser="firefox" rid="rantao">
    <!--login as subagent and verify that the user is on the overview page-->
    <action acid="0" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://1-qa.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="auto_var3_subagent1_es"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <!--loop to verify that the customer is there-->
    <action acid="1" stoptype="continue" loop="1" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div[2]/table/tbody/tr"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_custo."/>
    </action>
    <!--clicks on the subagent customer row-->
    <action acid="2" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div[2]/table/tbody/tr"/>
      <actionparam paramtype="value" paramvalue="auto_var3_subagent1_custo."/>
    </action>
    <!--verify that the user is on the status page-->
    <action acid="3" stoptype="continue" loop="2" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div/h2/span"/>
      <actionparam paramtype="value" paramvalue="Estado"/>
    </action>
    <!--go to the profile page-->
    <action acid="4" stoptype="abort">
      <actionname>hover</actionname>
      <actionparam paramtype="type" paramvalue="spanishmenu"/>
      <actionparam paramtype="value" paramvalue="Perfil"/>
    </action>
    <action acid="5" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="submenu"/>
      <actionparam paramtype="value" paramvalue="Perfil"/>
    </action>
    <!--verify that the user is on the profile page-->
    <action acid="6" stoptype="continue" loop="3" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div/h2/span"/>
      <actionparam paramtype="value" paramvalue="Perfil"/>
    </action>
    <!--click the delete button-->
    <action acid="7" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="//*[@id='delete']"/>
    </action>
    <!--click the OK button-->
    <action acid="8" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/span/button"/>
    </action>
    <!--verify that the user is taken to the overview page-->
    <action acid="9" stoptype="continue" loop="4" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div/h2/span"/>
      <actionparam paramtype="value" paramvalue="Descripción general"/>
    </action>
    <!--verify that the customer is indeed deleted-->
    <action acid="10" stoptype="continue" loop="5" iterations="10" break="y" sleep="1">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="xpath" paramvalue="/html/body/div/div[2]/div/div[2]/table/tbody/tr"/>
      <actionparam paramtype="novalue" paramvalue="auto_var3_subagent1_custo."/>
    </action>
    <action acid="11" stoptype="abort">
      <actionname>submitTCResult</actionname>
      <actionparam paramtype="Boolean" paramvalue="Boolean"/>
    </action>
  </workflow>
</testcase>

