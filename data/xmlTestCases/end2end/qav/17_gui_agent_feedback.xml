<?xml version="1.0" encoding="UTF-8"?>
<testcase testfamily="gui" testgroup="agent_main" testcase="feedback" parallel="false" workflowpause="0" location="1-qav.tb1.rcdnlab1.com">
<workflow driver="xmlapi" wfid="register_agent" stoptype="abort">
	 <action acid="1" stoptype="abort" timeout="30">
        <actionname>proxy</actionname>
        <actionparam paramtype="argument" paramvalue="1-qav.tb1.rcdnlab1.com"/>
    </action>
    <action acid="2" stoptype="abort" timeout="30">
        <actionname>source</actionname>
        <actionparam paramtype="argument" paramvalue="/tmp/proxy.env"/>
    </action>
	</workflow>
<workflow driver="selenium" wfid="feedback" stoptype="abort" profile="webdriver">
<!--
	1. Log in as a agent;
	2. Click "Feedback";
	3. Select "Website Overall";
	4. Input some string;
	5. Click "Send";
	6. Validate the result string;
	7. Click "Cancel";
-->  
  
  <action acid="1" stoptype="abort" timeout="10">
  <actionname>navigate</actionname> 
  <actionparam paramtype="url" paramvalue="https://www.tb1.rcdnlab1.com/" /> 
  </action>
 <!-- Log in input --> 
 <action acid="2" stoptype="abort" timeout="4">
  <actionname>input</actionname> 
  <actionparam paramtype="type" paramvalue="text field" /> 
  <actionparam paramtype="xpath" paramvalue="//*[@id='accountid']" /> 
  <actionparam paramtype="value" paramvalue="auto_var1" /> 
  </action>
 <action acid="3" stoptype="abort" timeout="4">
  <actionname>input</actionname> 
  <actionparam paramtype="type" paramvalue="text field" /> 
  <actionparam paramtype="xpath" paramvalue="//*[@id='password']" /> 
  <actionparam paramtype="value" paramvalue="Test1234" /> 
  </action>
 <action acid="4" stoptype="abort" timeout="30">
  <actionname>click</actionname> 
  <actionparam paramtype="type" paramvalue="button" /> 
  <actionparam paramtype="xpath" paramvalue="//*[@id='loginbutton']" /> 
  </action>
 <action acid="5" stoptype="abort" timeout="30">
  <actionname>wait</actionname> 
  <actionparam paramtype="type" paramvalue="seconds" /> 
  <actionparam paramtype="value" paramvalue="1" /> 
  </action>
    
 <!--Click "Feedback"-->
  <action acid="6" stoptype="abort" timeout="30">
  <actionname>click</actionname> 
  <actionparam paramtype="type" paramvalue="link" /> 
  <actionparam paramtype="xpath" paramvalue="//*[@id='feedback']" />  
  </action>
  <action acid="7" stoptype="abort" timeout="30">
  <actionname>wait</actionname> 
  <actionparam paramtype="type" paramvalue="seconds" /> 
  <actionparam paramtype="value" paramvalue="1" />  
  </action>
   
  <!--Select "Website Overall"-->
  <action acid="8" stoptype="abort" timeout="30">
  <actionname>input</actionname> 
  <actionparam paramtype="type" paramvalue="select" /> 
  <actionparam paramtype="xpath" paramvalue="//*[@id='category']" />  
  <actionparam paramtype="value" paramvalue="Website Overall" />
  </action>   
  
  <!--Input test string-->
  <action acid="9" stoptype="abort" timeout="30">
  <actionname>input</actionname> 
  <actionparam paramtype="type" paramvalue="text field" /> 
  <actionparam paramtype="xpath" paramvalue="//*[@id='comments']" />  
  <actionparam paramtype="value" paramvalue="Agent123!@#This is an automation test case running.123!@#" />
  </action>
    
  <!--Click "Send"-->
  <action acid="10" stoptype="abort" timeout="30">
  <actionname>click</actionname> 
  <actionparam paramtype="type" paramvalue="button" /> 
  <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/span/button" />  
  </action> 
   <action acid="11" stoptype="abort" timeout="30">
  <actionname>wait</actionname> 
  <actionparam paramtype="type" paramvalue="seconds" /> 
  <actionparam paramtype="value" paramvalue="5" />  
  </action>
  
  <!--Verify the default language-->
  <action acid="12" stoptype="abort" timeout="30">
  <actionname>verify</actionname> 
  <actionparam paramtype="type" paramvalue="text" /> 
  <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/span[2]/span" />
  <actionparam paramtype="value" paramvalue="Your feedback was sent. Thank you!" />   
  </action> 
  
  <!--Click Cancel-->
  <action acid="13" stoptype="abort" timeout="30">
  <actionname>click</actionname> 
  <actionparam paramtype="type" paramvalue="button" /> 
  <actionparam paramtype="xpath" paramvalue="/html/body/div[2]/div[3]/div/button" />  
  </action>  
</workflow>
</testcase>
