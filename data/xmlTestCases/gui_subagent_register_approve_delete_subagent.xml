<?xml version='1.0' encoding='UTF-8'?>
<testcase testfamily="gui" testgroup="subagent" testcase="register_approve_delete_subagent" parallel="false" workflowpause="0" location="1-qa.t5a.l1.cisco.com">
  <!-- 1. login to t5a as jearnold_1 (agent)
	 2. go to agent overview page
	 3. save the subagent reguster url then navigate to it
	 4. register subagent jearnold_3
	 5. log in with agent jearnold_1
	 6. go to pending agents page
	 7. approve pending sub agent jearnold_3
	 8. log out
	 9. log in as subagent jearnold_3
	10. verify it goes to overview page
	11. verify all the sub agent information
	12. log out
	13. log in with agent jearnold_1
	14. go to approved agents
	15. delete subagent jearnold_3
	16. verify the row is deleted
	17. log out
	18. try to log in with subagent jearnold_3
	19. verify that error message says username not found-->
  <workflow driver="selenium" wfid="register_approve_subagent" stoptype="abort" profile="webdriver">
    <action acid="0" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_log_in.xml"/>
    </action>
    <action acid="1" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://www.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="jearnold_1"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <action acid="2" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="Overview"/>
    </action>
    <action acid="3" stoptype="abort">
      <actionname>hover</actionname>
      <actionparam paramtype="type" paramvalue="menu"/>
      <actionparam paramtype="value" paramvalue="Agents"/>
    </action>
    <action acid="4" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="submenu"/>
      <actionparam paramtype="value" paramvalue="Agent Overview"/>
    </action>
    <!--get the invite url from Agent Overview page-->
    <action acid="5" stoptype="abort">
      <actionname>save</actionname>
      <actionparam paramtype="savevar" paramvalue="sub_register_url"/>
      <actionparam paramtype="xpath" paramvalue="//span[@id='theURL']"/>
    </action>
    <action acid="6" stoptype="abort" timeout="30">
      <actionname>navigate</actionname>
      <actionparam paramtype="loadvar" paramvalue="sub_register_url"/>
    </action>
    <action acid="7" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_register.xml"/>
    </action>
    <action acid="8" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Cisco.com User ID"/>
      <actionparam paramtype="value" paramvalue="jearnold_3"/>
    </action>
    <action acid="9" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Cisco.com Password"/>
      <actionparam paramtype="value" paramvalue="Test1234"/>
    </action>
    <action acid="10" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="First Name"/>
      <actionparam paramtype="value" paramvalue="Sub"/>
    </action>
    <action acid="11" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Last Name"/>
      <actionparam paramtype="value" paramvalue="Agent"/>
    </action>
    <action acid="12" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Company"/>
      <actionparam paramtype="value" paramvalue="Sub Agent Co."/>
    </action>
    <action acid="13" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="label" paramvalue="Job Role"/>
      <actionparam paramtype="value" paramvalue="Administrator"/>
    </action>
    <action acid="14" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="label" paramvalue="Job Level"/>
      <actionparam paramtype="value" paramvalue="Vice President"/>
    </action>
    <action acid="15" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Address Line 1"/>
      <actionparam paramtype="value" paramvalue="123 address st."/>
    </action>
    <action acid="16" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="City"/>
      <actionparam paramtype="value" paramvalue="Plano"/>
    </action>
    <action acid="17" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Zip/Postal Code"/>
      <actionparam paramtype="value" paramvalue="12345"/>
    </action>
    <action acid="18" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Phone Number"/>
      <actionparam paramtype="value" paramvalue="1231231234"/>
    </action>
    <action acid="19" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Email Address"/>
      <actionparam paramtype="value" paramvalue="psp.jearnold3@gmail.com"/>
    </action>
    <action acid="20" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="checkbox"/>
      <actionparam paramtype="label" paramvalue="Cisco Privacy Statement"/>
      <actionparam paramtype="value" paramvalue="check"/>
    </action>
    <action acid="21" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="value" paramvalue="Submit"/>
    </action>
    <action acid="22" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="https://1-qa.t5a.l1.cisco.com/register_complete.html"/>
    </action>
    <action acid="23" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text"/>
      <actionparam paramtype="value" paramvalue="Registration Complete"/>
    </action>
    <action acid="24" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_log_in.xml"/>
    </action>
    <action acid="25" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://www.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="jearnold_1"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <action acid="26" stoptype="abort">
      <actionname>hover</actionname>
      <actionparam paramtype="type" paramvalue="menu"/>
      <actionparam paramtype="value" paramvalue="Agents"/>
    </action>
    <action acid="27" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="submenu"/>
      <actionparam paramtype="value" paramvalue="Pending Agents"/>
    </action>
    <action acid="28" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_pending_agents.xml"/>
    </action>
    <action acid="29" stoptype="abort">
      <actionname>wait</actionname>
      <actionparam paramtype="type" paramvalue="seconds"/>
      <actionparam paramtype="value" paramvalue="1"/>
    </action>
    <action acid="30" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="value" paramvalue="jearnold_3"/>
    </action>
    <action acid="31" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="value" paramvalue="jearnold_3"/>
    </action>
    <action acid="32" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="value" paramvalue="Approve"/>
    </action>
    <action acid="33" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="link"/>
      <actionparam paramtype="value" paramvalue="Log Out"/>
    </action>
    <!--sleep 10 seconds after the sub agent is approved-->
    <action acid="34" stoptype="abort">
      <actionname>wait</actionname>
      <actionparam paramtype="type" paramvalue="seconds"/>
      <actionparam paramtype="value" paramvalue="10"/>
    </action>
    <action acid="35" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_log_in.xml"/>
    </action>
    <action acid="36" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://www.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="jearnold_3"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <action acid="37" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="Overview"/>
    </action>
    <action acid="38" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_overview.xml"/>
    </action>
    <action acid="39" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="link"/>
      <actionparam paramtype="value" paramvalue="Account"/>
    </action>
    <action acid="40" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="Account"/>
    </action>
    <!--verify sub agent information-->
    <action acid="41" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_account.xml"/>
    </action>
    <action acid="42" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="First Name"/>
      <actionparam paramtype="value" paramvalue="Sub"/>
    </action>
    <action acid="43" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Last Name"/>
      <actionparam paramtype="value" paramvalue="Agent"/>
    </action>
    <action acid="44" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Company"/>
      <actionparam paramtype="value" paramvalue="Sub Agent Co."/>
    </action>
    <action acid="45" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Address Line 1"/>
      <actionparam paramtype="value" paramvalue="123 address st."/>
    </action>
    <action acid="46" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="City"/>
      <actionparam paramtype="value" paramvalue="Plano"/>
    </action>
    <action acid="47" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Zip/Postal Code"/>
      <actionparam paramtype="value" paramvalue="12345"/>
    </action>
    <action acid="48" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Phone Number"/>
      <actionparam paramtype="value" paramvalue="1231231234"/>
    </action>
    <action acid="49" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Email Address"/>
      <actionparam paramtype="value" paramvalue="psp.jearnold3@gmail.com"/>
    </action>
    <action acid="50" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="label" paramvalue="Job Role"/>
      <actionparam paramtype="value" paramvalue="Administrator"/>
    </action>
    <action acid="51" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="select"/>
      <actionparam paramtype="label" paramvalue="Job Level"/>
      <actionparam paramtype="value" paramvalue="Vice President"/>
    </action>
    <action acid="52" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="link"/>
      <actionparam paramtype="value" paramvalue="Log Out"/>
    </action>
    <action acid="53" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_log_in.xml"/>
    </action>
    <action acid="54" stoptype="abort">
      <actionname>login</actionname>
      <actionparam paramtype="url" paramvalue="https://www.t5a.l1.cisco.com"/>
      <actionparam paramtype="username" paramvalue="jearnold_1"/>
      <actionparam paramtype="password" paramvalue="Test1234"/>
    </action>
    <action acid="55" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="Overview"/>
    </action>
    <action acid="56" stoptype="abort">
      <actionname>hover</actionname>
      <actionparam paramtype="type" paramvalue="menu"/>
      <actionparam paramtype="value" paramvalue="Agents"/>
    </action>
    <action acid="57" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="submenu"/>
      <actionparam paramtype="value" paramvalue="Approved Agents"/>
    </action>
    <action acid="58" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="Approved Agents"/>
    </action>
    <action acid="59" stoptype="abort">
      <actionname>wait</actionname>
      <actionparam paramtype="type" paramvalue="seconds"/>
      <actionparam paramtype="value" paramvalue="1"/>
    </action>
    <action acid="60" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_approved_agents.xml"/>
    </action>
    <action acid="61" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="value" paramvalue="jearnold_3"/>
    </action>
    <action acid="62" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="value" paramvalue="jearnold_3"/>
    </action>
    <action acid="63" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="value" paramvalue="Delete"/>
    </action>
    <action acid="64" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="value" paramvalue="OK"/>
    </action>
    <action acid="65" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="row"/>
      <actionparam paramtype="novalue" paramvalue="jearnold_3"/>
    </action>
    <action acid="66" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="link"/>
      <actionparam paramtype="value" paramvalue="Log Out"/>
    </action>
    <action acid="67" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="page"/>
      <actionparam paramtype="value" paramvalue="Login"/>
    </action>
    <action acid="68" stoptype="abort">
      <actionname>config</actionname>
      <actionparam paramtype="path" paramvalue="./data/selenium_config/page_log_in.xml"/>
    </action>
    <action acid="69" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Username"/>
      <actionparam paramtype="value" paramvalue="jearnold_3"/>
    </action>
    <action acid="70" stoptype="abort">
      <actionname>input</actionname>
      <actionparam paramtype="type" paramvalue="text field"/>
      <actionparam paramtype="label" paramvalue="Password"/>
      <actionparam paramtype="value" paramvalue="Test1234"/>
    </action>
    <action acid="71" stoptype="abort">
      <actionname>click</actionname>
      <actionparam paramtype="type" paramvalue="button"/>
      <actionparam paramtype="value" paramvalue="Log In"/>
    </action>
    <!--sleep 5 seconds to wait for the message to show up-->
    <action acid="72" stoptype="abort">
      <actionname>wait</actionname>
      <actionparam paramtype="type" paramvalue="seconds"/>
      <actionparam paramtype="value" paramvalue="5"/>
    </action>
    <action acid="73" stoptype="abort">
      <actionname>verify</actionname>
      <actionparam paramtype="type" paramvalue="error message"/>
      <actionparam paramtype="value" paramvalue="Invalid username and/or password Please try again"/>
    </action>
    <action acid="74" stoptype="abort">
      <actionname>submitTCResult</actionname>
      <actionparam paramtype="Boolean" paramvalue="Boolean"/>
    </action>
  </workflow>
</testcase>

